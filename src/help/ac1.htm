<html>
<body>
 <h1>Hinweise zur Emulation des AC1</h1>
  <ul>
   <li><a href="ac1.htm#hardware">1. Emulierte Hardware</a></li>
   <li>
    &nbsp;&nbsp;
    <a href="ac1.htm#ram64k">1.1. 64&nbsp;KByte&nbsp;RAM</a>
   </li>
   <li>
    &nbsp;&nbsp;
    <a href="ac1.htm#fdc">1.2. Floppy-Disk-Modul</a>
   </li>
   <li>
    &nbsp;&nbsp;
    <a href="ac1.htm#scch_mod1">1.3. SCCH-Modul&nbsp;1</a>
   </li>
   <li>
    &nbsp;&nbsp;
    <a href="ac1.htm#scch_mod3">1.4. SCCH-Modul&nbsp;3</a>
   </li>
   <li>
    &nbsp;&nbsp;
    <a href="ac1.htm#scch_inverse">1.5. SCCH-Inversschaltung</a>
   </li>
   <li>
    &nbsp;&nbsp;
    <a href="ac1.htm#inverse_key">1.6. Inverstaste (F1)</a>
   </li>
   <li>
    &nbsp;&nbsp;
    <a href="ac1.htm#graphic_key">1.7. Grafiktaste (F2)</a>
   </li>
   <li>
    &nbsp;&nbsp;
    <a href="ac1.htm#font_switch">1.8. Zeichensatzumschaltung</a>
   </li>
   <li>
    &nbsp;&nbsp;
    <a href="ac1.htm#printer">1.9. V24-Schnittstelle mit Drucker</a>
   </li>
   <li><a href="ac1.htm#software">2. Im ROM enthaltene Software</a></li>
   <li><a href="ac1.htm#basic">3. BASIC</a></li>
   <li>
    &nbsp;&nbsp;
    <a href="ac1.htm#basic_io">3.1. Laden, Speichern und &Ouml;ffnen von BASIC-Programmen</a>
   </li>
   <li>
    &nbsp;&nbsp;
    <a href="ac1.htm#gsbasic">3.2. Grafik/Sound-BASIC</a>
   </li>
  </ul>
 <br/>

 <h2><a name="hardware">1. Emulierte Hardware</a></h2>
  Den AC1 gibt es prinzipiell in drei verschiedenen Ausbaustufen:
  Ur-AC1 (erste ver&ouml;ffentlichte Ausbaustufe),
  AC1-ACC (die Weiterentwicklung des Amateur Computerclubs Berlin)
  und AC1-SCCH (die Weiterentwicklung des Studio Computerclubs Halle).
  Hinzu kommt ein mit AC1-2010 bezeichneter Entwurf aus dem Jahr&nbsp;2010,
  der auf dem SCCH-Konzept basiert.
 <br/><br/>
  Da der AC1 als Bauanleitung ver&ouml;ffentlicht wurde, sind auch
  viele andere Konfigurationen und Weiterentwicklungen anzutreffen.
 <br/><br/>
  Emuliert werden:
  <ul>
   <li>
    Ur-AC1:
    <ul>
     <li>4&nbsp;KByte ROM f&uuml;r Monitorprogramm und Mini-BASIC</li>
     <li>1&nbsp;KByte statischer RAM (SRAM)</li>
     <li>1&nbsp;KByte Bildwiederholspeicher f&uuml;r 64x16 Zeichen</li>
     <li>
      CTC mit Verbindung von Ausgang Kanal&nbsp;0 auf Eingang Kanal&nbsp;1
     </li>
     <li>Kassettenrecorderanschluss</li>
    </ul>
   </li>
   <li>
    AC1-ACC:
    <ul>
     <li>4&nbsp;KByte ROM f&uuml;r Monitorprogramm und Mini-BASIC</li>
     <li>2&nbsp;KByte statischer RAM (SRAM)</li>
     <li><a href="ac1.htm#ram64k">64&nbsp;KByte&nbsp;RAM</a></li>
     <li>2&nbsp;KByte Bildwiederholspeicher f&uuml;r 64x32 Zeichen</li>
     <li>
      CTC mit Verbindung von Ausgang Kanal&nbsp;0 auf Eingang Kanal&nbsp;1
     </li>
     <li>Kassettenrecorderanschluss</li>
    </ul>
   </li>
   <li>
    AC1-SCCH:
    <ul>
     <li>
      Alles wie beim AC1-ACC,<br/>
      Der ROM enth&auml;lt aber ein 4&nbsp;KByte gro&szlig;es
      Monitorprogramm,
      daf&uuml;r entf&auml;llt der Mini-BASIC-Interpreter.
     </li>
     <li>
      &quot;Durchschreiben&quot; auf die
      <a href="ac1.htm#ram64k">64&nbsp;KByte&nbsp;RAM</a>,
      wenn in dem betreffenden Adressbereich ROM eingeblendet ist
     </li>
     <li>
      <a href="ac1.htm#scch_mod1">SCCH-Modul&nbsp;1</a>
      (zus&auml;tzlicher ROM)
     </li>
     <li>
      <a href="ac1.htm#scch_mod3">SCCH-Modul&nbsp;3</a>
      (zus&auml;tzlicher RAM)
     </li>
     <li><a href="ac1.htm#scch_inverse">SCCH-Inversschaltung</a></li>
     <li>
      <a href="ac1.htm#font_switch">Zeichensatzumschaltung</a>
      (nur bei Monitorprogramm&nbsp;10/88)
     </li>
     <li><a href="ac1.htm#graphic_key">Grafiktaste (F2)</a></li>
     <li>
      Ein-/Ausblenden des Monitorprogramm-ROMs &uuml;ber OUT&nbsp;16h/17h
      nach AC1-Info&nbsp;11/1988
     </li>
     <li><a href="ac1.htm#printer">V24-Schnittstelle mit Drucker</a></li>
     <li>1&nbsp;<a href="joystick.htm">Joystick</a></li>
    </ul>
   </li>
   <li>
    AC1-2010:
    <ul>
     <li> 
      Alles wie beim AC1-SCCH,<br/>
      Im Zeichengenerator ist aber ein anderer Zeichensatz enthalten.
     </li>
     <li>Inversschaltung &uuml;ber System-PIO&nbsp;B3</li>
    </ul>
   </li>
   <li>
    Optional:
    <ul>
      <li>
       Eine RAM-Floppy nach Zeitschrift
       <em>Mikroprozessortechnik</em> Heft&nbsp;3/1988
       an der E/A-Basisadresse&nbsp;E0h
      </li>
      <li>
       <a href="ac1.htm#fdc">Floppy-Disk-Modul</a>
       mit 4&nbsp;Diskettenlaufwerken
      </li>
      <li>
       <a href="gide.htm">GIDE</a> mit bis zu zwei Festplatten,<br/>
       Die E/A-Basisadresse f&uuml;r das GIDE ist einstellbar.
      </li>
    </ul>
   </li>
  </ul>
 <br/>

 <h3><a name="ram64k">1.1. 64&nbsp;KByte&nbsp;RAM</a></h3>
  Bei AC1-ACC, AC1-SCCH und AC1-2010 werden 64&nbsp;KByte&nbsp;RAM emuliert.
  Die unteren 8&nbsp;KByte liegen parallel zum ROM f&uuml;r das Monitorprogramm,
  Bildwiederholspeicher und SRAM und k&ouml;nnen &uuml;ber die IO-Ports
  1Ch bis 1Fh sowie bei AC1-SCCH und AC1-2010 auch &uuml;ber IO-Port&nbsp;14h
  ein- und wieder ausgeblendet werden.
 <br/><br/>
  <b>Achtung!</b> Bei AC1-SCCH und AC1-2010 k&ouml;nnen die
  64&nbsp;KByte&nbsp;RAM auch dann beschrieben werden,
  wenn in dem betreffenden Adressbereich ROM eingeblendet ist
  (sogenanntes &quot;Durchschreiben&quot;).
 <br/><br/>

 <h3><a name="fdc">1.2. Floppy-Disk-Modul</a></h3>
  Das Floppy-Disk-Modul wird an folgenden E/A-Adressen emuliert:
 <br/>
  <table border="1">
   <tr>
    <th>E/A-Adresse (hexadezimal)</th>
    <th>Zugriff</th><th>Bedeutung</th>
   </tr>
   <tr>
    <td valign="top">40</td>
    <td valign="top">R</td>
    <td>FDC-Statusregister</td>
   </tr>
   <tr>
    <td valign="top">41</td>
    <td valign="top">RW</td>
    <td>FDC-Datenregister</td>
   </tr>
   <tr>
    <td valign="top">42,&nbsp;43</td>
    <td valign="top">W</td>
    <td>WAIT-Mode (bis zum n&auml;chsten FDC-Interrupt warten)</td>
   </tr>
   <tr>
    <td valign="top">44,&nbsp;45</td>
    <td valign="top">W</td>
    <td>
     <ul>
      <li>Bit&nbsp;1:&nbsp;WAIT-Freigabe (siehe Port 42/43)</li>
      <li>Bit&nbsp;4:&nbsp;Terminal&nbsp;Count</li>
     </ul>
    </td>
   </tr>
   <tr>
    <td valign="top">48</td>
    <td valign="top">W</td>
    <td>Terminal&nbsp;Count (unabh&auml;ngig vom ausgegebenen Wert)</td>
   </tr>
  </table>
 <br/><br/>


 <h3><a name="scch_mod1">1.3. SCCH-Modul&nbsp;1</a></h3>
  Das SCCH-Modul 1 stellt zus&auml;tzlichen ROM zur Verf&uuml;gung,
  und zwar:
  <ul>
   <li>8&nbsp;KByte f&uuml;r Grafik/Sound-BASIC-Interpreter</li>
   <li>8&nbsp;KByte f&uuml;r Programmpaket&nbsp;X</li>
   <li>je nach Einstelllung 256 oder 512&nbsp;KByte f&uuml;r ROM-Disk</li>
  </ul>
 <br/>
  Gesteuert wird das Modul &uuml;ber das Ausgabetor&nbsp;14h:<br/>
  <table border="1">
   <tr>
    <td valign="top">Bit&nbsp;0:</td>
    <td>Programmpaket&nbsp;X im Bereich E000-FFFF einblenden</td>
   </tr>
   <tr>
    <td valign="top">Bit&nbsp;1:</td>
    <td>Grafik/Sound-BASIC im Bereich 4000-5FFF einblenden</td>
   </tr>
   <tr>
    <td valign="top">Bit&nbsp;3:</td>
    <td>
     Ein Segment der ROM-Disk im Bereich C000-FFFF
     bzw. 8000-FFFF einblenden,<br/>
     Die Bits&nbsp;0, 4, 5 und 6 legen das entsprechende
     16K- bzw. 32K-Segment fest.
    </td>
   </tr>
  </table>
 <br/>
  JKCEMU liefert keinen Inhalt f&uuml;r das Programmpaket&nbsp;X
  und die ROM-Disk mit.
  Diesen m&uuml;ssen Sie in den <a href="settings.htm">Einstellungen</a>
  durch Einbinden von ROM-Dateien festlegen.
 <br/><br/>

 <h3><a name="scch_mod3">1.4. SCCH-Modul&nbsp;3</a></h3>
  Das SCCH-Modul 3 stellt je nach Best&uuml;ckung
  64, 128, 256, 320 oder 512&nbsp;KByte zus&auml;tzlichen RAM
  zur Verf&uuml;gung,
  der &uuml;ber E/A-Befehle in den Arbeitsspeicher eingeblendet werden kann.
  Konkret wird &uuml;ber die Bits&nbsp;0 bis 3 des E/A-Tors&nbsp;15h
  einer von 16 m&ouml;glichen 64 KByte gr&ouml;&szlig;en Bl&ouml;cken
  ausgew&auml;hlt, der dann entsprehend der Bits 4 bis 7 des gleichen
  IO-Ports nur lesend, nur schreibend oder lesend und schreibend
  (dann aber nur 32&nbsp;KByte) eingeblendet wird.
 <br/><br/>
  Der Adressraum f&uuml;r den zus&auml;tzlichen RAM betr&auml;gt
  1&nbsp;MByte (16 x 64&nbsp;KByte).
  Obwohl das Originalmodul nur mit max. 512&nbsp;KByte
  best&uuml;ckt werden kann,
  emuliert JKCEMU die theoretisch m&ouml;glichen 1&nbsp;MByte.
  Das hat den Vorteil, dass Software,
  die diesen zus&auml;tzlichen RAM verwendet,
  nicht speziell f&uuml;r den Einsatz in JKCEMU konfiguriert werden muss,
  denn auf jeder Adresse, wo die jeweilige Software RAM voraussetzt,
  wird sie in JKCEMU auch RAM vorfinden.
 <br/><br/>

 <h3><a name="scch_inverse">1.5. SCCH-Inversschaltung</a></h3>
  Die SCCH-Inversschaltung erkennt die im Bildwiederholspeicher
  stehenden Bytes mit den Werten 10h und 11h.
  Bei 11h wird die Inversdarstellung ein- und bei 10h wieder ausgeschaltet.
  Unabh&auml;ngig davon wird am Zeilenende die Inversdarstellung
  immer ausgeschaltet.
 <br/><br/>

 <h3><a name="inverse_key">1.6. Inverstaste (F1)</a></h3>
  Die SCCH-Inversschaltung enth&auml;lt im Original auch einen Schalter,
  mit dem der gesamte Bildschirm invertiert werden kann.
  JKCEMU emulierte diesen Schalter mit der Taste&nbsp;F1.
  Obwohl im Original nicht &uuml;blich, wird der Inversschalter
  auch beim Ur-AC1 und beim AC1-ACC emuliert.
 <br/><br/>

 <h3><a name="graphic_key">1.7. Grafiktaste (F2)</a></h3>
  Mit der Grafiktaste&nbsp;(F2) ist die Eingabe von Grafikzeichen
  &uuml;ber die Tastatur m&ouml;glich.
  Dies muss allerdings vom jeweiligen Anwendungsprogramm auch so
  unterst&uuml;tzt werden.
  Das in JKCEMU enthaltene <em>Grafik/Sound-BASIC</em>
  unterst&uuml;tzt die Grafiktaste.
 <br/><br/>

 <h3><a name="font_switch">1.8. Zeichensatzumschaltung</a></h3>
  Die Zeichensatzumschaltung wird nur beim Monitorprogramm&nbsp;10/88
  emuliert.
  &Uuml;ber die System-PIO kann zwischen dem Zeichensatz des AC1-ACC
  (PIO&nbsp;B3=0) und dem SCCH-Zeichensatz (PIO&nbsp;B3=1)
  umgeschaltet werden.
  Die Umschaltung funktioniert auch, wenn Sie in den
  <a href="settings.htm">Einstellungen</a> eine alternative
  Zeichensatzdatei angegeben haben.
  Wenn diese Datei gr&ouml;&szlig;er als 2&nbsp;KByte ist,
  wird zwichen den unteren und den oberen 2&nbsp;KByte umgeschaltet.
 <br/><br/>

 <h3><a name="printer">1.9. V24-Schnittstelle mit Drucker</a></h3>
  Es wird die zus&auml;tzliche PIO (E/A-Adressen&nbsp;08-0Bh)
  mit der dar&uuml;ber realisierten V24-Schnittstelle
  und einem daran angeschlossenen Drucker emuliert.
  Die Druckerschnittstelle ist dabei auf die Parameter eingestellt,
  die die integrierten SCCH-Monitorprogramme nach einem RESET einnehmen.
  So k&ouml;nnen &uuml;ber die Funktionen der SCCH-Monitorprogramme
  Zeichen auf dem emulierten Drucker ausgegeben werden,
  ohne die V24-Parameter &auml;ndern zu m&uuml;ssen.
 <br/><br/>
  Zum einfachen Ausprobieren der Druckeremulation k&ouml;nnen Sie
  in einem SCCH-Monitorprogramm mit <em>Ctrl-X</em> die Bildschirmausgabe
  zus&auml;tzlich auf den Drucker leiten.
  Mit <em>Ctrl-Y</em> schalten Sie das wieder aus.
 <br/><br/>


 <h2><a name="software">2. Im ROM enthaltene Software</a></h2>
  <ul>
   <li>
    Bei Ur-AC1 und AC1-ACC:
    <ul>
     <li>Monitorprogramm Version&nbsp;3.1</li>
     <li>Mini-BASIC Version&nbsp;2.1</li>
    </ul>
   </li>
   <li>
    Bei AC1-SCCH und AC1-2010:
    <ul>
     <li>
      Je nach Einstellung SCCH-Monitor Version&nbsp;8.0
      oder Version&nbsp;10/88
     </li>
     <li>Grafik/Sound-BASIC Version&nbsp;3.2</li>
    </ul>
   </li>
  </ul>
 <br/>


 <h2><a name="basic">3. BASIC</a></h2>

 <h3>
  <a name="basic_io">3.1. Laden, Speichern und &Ouml;ffnen von BASIC-Programmen</a>
 </h3>
  JKCEMU bietet spezielle Unterst&uuml;tzung f&uuml;r das Laden
  und Speichern von BASIC-Programmen sowie f&uuml;r das &Ouml;ffnen
  von im Arbeitsspeicher befindlichen BASIC-Programmen im Texteditor.
  Die entsprechenden Funktionen finden Sie im Men&uuml; <em>Datei</em>.
 <br/><br/>
  Folgende BASIC-Interpreter werden unterst&uuml;tzt:
 <br/>
  <ul>
   <li>Mini-BASIC Version&nbsp;2.1</li>
   <li>8K-AC1-BASIC Version&nbsp;1.1</li>
   <li>12K-AC1-BASIC Version&nbsp;2.1 (High Precision Extended Version)</li>
   <li>BACOBAS Version&nbsp;2.1</li>
   <li>SCCH-BASIC Version&nbsp;3.2 (Grafik/Sound-BASIC)</li>
  </ul>
 <br/>
  Beim Speichern von BASIC-Programmen erscheint ein Fenster zur Auswahl
  des Dateiformats.
  Speichern Sie bitte im Headersave-Format,
  welches bereits vorausgew&auml;hlt ist.
  Nur dann ist sichergestellt, dass Sie das BASIC-Programm
  sp&auml;ter auch wieder problemlos laden k&ouml;nnen.
  Bei einem anderen Dateiformat werden n&auml;mlich beim Laden
  die Systemzellen des BASIC-Interpreters nicht angepasst,
  und Sie k&ouml;nnen das BASIC-Programm im Interpreter nicht richtig nutzen.
 <br/><br/>

 <h3><a name="gsbasic">3.2. Grafik/Sound-BASIC</a></h3>
  Der Grafik/Sound-BASIC-Interpreter Version&nbsp;3.2 ist im SCCH-Mode
  verf&uuml;gbar und liegt in einem Hintergrund-ROM
  im Adressbereich 4000-5FFF.
  Standardm&auml;&szlig;ig befindet sich in diesem Adressbereich RAM.
  &Uuml;ber das Bit&nbsp;1 des IO-Ports&nbsp;14h kann der ROM
  in den Vordergrund geholt und somit der BASIC-Interpreter
  in dem Adressbereich sichtbar gemacht werden.
 <br/><br/>
  Mit den im Emulator integrierten SCCH-Monitorprogrammen k&ouml;nnen
  Sie das BASIC mit dem Kommando <em>b</em> direkt aufrufen (Kaltstart).
  Dabei wird auch der BASIC-ROM in den Vordergrund geholt.
  Einen Warmstart des Interpreters f&uuml;hren Sie mit dem Kommando
  <em>r</em> aus.
</body>
</html>

