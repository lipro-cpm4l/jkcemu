<html>
<body>
 <h1>KC&nbsp;compact</h1>
  Der KC&nbsp;compact ist der letzte in der DDR hergestellte Heimcomputer.
  Er wurde mit dem Ziel entwickelt, eine weitgehende Kompatibilit&auml;t
  mit den CPC-Computern von Amstrad zu erreichen.
  Da der KC&nbsp;compact ohne die ULA
  (einem kundenspezifischen Schaltkreis von Amstrad) auskommen muss,
  sind einige zentrale Dinge hardwarem&auml;&szlig;ig anders gel&ouml;st
  als im CPC.
  Trotzdem ist die Kompatibilit&auml;t sehr hoch, zumindest,
  wenn man auf den undokumentierten Grafikmodus&nbsp;3 verzichtet.
 <br/><br/>
  Der KC&nbsp;compact entspricht von der Soft- und Hardwareausstattung
  am ehesten einem CPC664 (64&nbsp;KByte RAM, Locomotive Basic&nbsp;1.1),
  allerdings ohne einem eingebauten Diskettenlaufwerk.
  Die Floppy-Disk-Erweiterung ist beim KC&nbsp;compact als abgesetztes
  Ger&auml;t ausgelegt und musste auch separat erworben werden.
  Au&szlig;erdem wurden statt der CPC-spezifischen 3''-Disketten
  die in der DDR &uuml;blichen 5,25''-Disketten verwendet.
 <br/><br/>

 <h2>Hinweise zur Emulation</h2>
  <ul>
   <li>
    <a href="kccompact.htm#hardware">1. Emulierte Hardware</a>
    <ul>
     <li><a href="kccompact.htm#keyboard">1.1. Tastatur</a></li>
     <li>
      <a href="kccompact.htm#fdc">1.2. Floppy-Disk-Station</a>
      <ul>
       <li>
	<a href="kccompact.htm#fdcrom">1.2.1. ROM in der Floppy-Disk-Station</a>
       </li>
       <li><a href="kccompact.htm#diskfmt">1.2.2 Diskettenformate</a></li>
      </ul>
     </li>
     <li><a href="kccompact.htm#sound">1.3. Sound-Generator</a></li>
    </ul>
   </li>
   <li><a href="kccompact.htm#disks">2. Enthaltene Diskettenabbilder</a></li>
   <li>
    <a href="kccompact.htm#etc">3. Sonstiges</a>
    <ul>
     <li>
      <a href="kccompact.htm#screen">3.1. Bildschirmausgabe</a>
      <ul>
       <li>
	<a href="kccompact.htm#screensize">3.1.1. Gr&ouml;&szlig;e und Seitenverh&auml;ltnis</a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 <br/>


 <h2><a name="hardware">1. Emulierte Hardware</a></h2>
  Emuliert werden Grundger&auml;t, <a href="print.htm">Drucker</a>
  und zwei <a href="joystick.htm">Joysticks</a>
  sowie optional die <a href="kccompact.htm#fdc">Floppy-Disk-Station</a>.
 <br/><br/>

 <h3><a name="keyboard">1.1. Tastatur</a></h3>
  F&uuml;r einige Tasten auf der KC-compact-Tastatur gibt es
  &uuml;blicherweise keine direkten gleichnamigen Tasten auf der Tastatur
  des Emulatorrechners.
  Diese Tasten werden trotzdem emuliert.
  Die Tabelle zeigt das Tastenmapping f&uuml;r einige ausgew&auml;hlte Tasten:
 <br/><br/>
  <table border="1">
   <tr><th>KC-compact-Taste</th><th>Emuliert mittels</th></tr>
   <tr><td>RETURN</td><td>ENTER/RETURN</td></tr>
   <tr><td>DEL</td><td>BACKSPACE</td></tr>
   <tr><td>CLR</td><td>Entf</td></tr>
   <tr><td>F0</td><td>F5</td></tr>
   <tr><td>F1</td><td>F1</td></tr>
   <tr><td>F2</td><td>F2</td></tr>
   <tr><td>F3</td><td>F3</td></tr>
   <tr><td>F4</td><td>F4</td></tr>
   <tr><td>ENTER</td><td>F6</td></tr>
   <tr><td>Punkt</td><td>F7</td></tr>
   <tr><td>COPY</td><td>F8</td></tr>
  </table>
 <br/>
  Wird eine Funktions- oder Steuerungstasten zusammen mit der Control-
  (Strg-) oder Shift-Taste bet&auml;tigt,
  dann wird diese Tastenkombination auch direkt auf der emulierten
  KC-compact-Tastatur nachgebildet.
  Bei allen anderen Tasten (Buchstaben, Ziffern, Sonderzeichen)
  wird das Dr&uuml;cken der Control- und Shift-Tasten so nachgebildet,
  dass im emulierten KC&nbsp;compact das gleiche Zeichen erscheint
  wie auf der Emulatortastatur.
  Das ist deshalb notwendig, da die Zeichen auf der emulierten
  KC-compact-Tastatur in einer anderen Shift-Ebene liegen k&ouml;nnen
  als auf der Tastatur des Emulatorrechners.
 <br/><br/>

 <h3><a name="fdc">1.2. Floppy-Disk-Station</a></h3>
  Die optional als Beistellger&auml;t zum KC&nbsp;compact erh&auml;tlich
  gewesene Floppy-Disk-Station wird <a href="floppydisk.htm">emuliert</a>,
  wenn Sie das in den <a href="settings.htm">Einstellungen</a> so angeben.
  Mit der Floppy-Disk-Station stehen zwei Diskettenlaufwerke und
  zus&auml;tzlich 64&nbsp;KByte RAM sowie 32&nbsp;KByte ROM
  zur Verf&uuml;gung.
 <br/><br/>
  Da mit dem KC&nbsp;compact eine weitgehende Kompatibilit&auml;t
  zu den CPC-Computern von Amstrad angestrebt wurde,
  sind auch beim Floppy-Disk-System einige Eigenheiten dieser
  Computer &uuml;bernommen worden:
  <ul>
   <li>
    Es kann softwarem&auml;&szlig;ig kein Terminal Count ausgel&ouml;st
    werden. Beim Lesen und Schreiben von Sektoren wird deshalb am Ende
    immer ein End-Of-Cylinder-Fehler gemeldet.
    <br/><br/>
   </li>
   <li>
    Die Laufwerksauswahl erfolgt intern nur &uuml;ber die Leitung DS0.
    DS1 wird nicht ausgewertet.
    Deshalb haben die internen Laufwerksnummern 2 und 3 die gleiche
    Wirkung wie 0 und 1.
   </li>
  </ul>
 <br/>

 <h3><a name="fdcrom">1.2.1 ROM in der Floppy-Disk-Station</a></h3>
  In der Floppy-Disk-Station gibt es einen 32&nbsp;KByte gro&szlig;en ROM.
  Die unteren 16&nbsp;KByte enthalten das BASDOS.
  Das ist ein um ein zus&auml;tzliches Diskettenformat erweitertes AMSDOS
  der CPC-Computer.
  Dieser ROM-Bereich ist als ROM&nbsp;7 (Ausgabe einer 7
  auf dem ROM-Select-Port) ab der Adresse C000h einblendbar.
  &Uuml;ber die oberen 16&nbsp;KByte des 32&nbsp;KByte gro&szlig;en ROMs
  schweigt sich die Dokumentation des KC&nbsp;compact v&ouml;llig aus.
  Es ist aber m&ouml;glich, diesen ROM-Bereich durch Ausgabe einer 6
  auf dem ROM-Select-Port einzublenden.
  Bei den CPC-Computern gibt es so einen ROM&nbsp;6 nicht.
 <br/><br/>
  JKCEMU emuliert zwar die vollen 32&nbsp;KByte ROM,
  allerdings ist nur in den unteren 16&nbsp;KByte ein sinnvoller Inhalt
  enthalten (BASDOS).
  Sie k&ouml;nnen aber auch den ROM&nbsp;6 mit einem Inhalt versehen,
  indem Sie in den Einstellungen eine externe 32&nbsp;KByte gro&szlig;e
  ROM-Datei einbinden.
  Die unteren 16&nbsp;KByte dieser ROM-Datei werden als ROM&nbsp;7
  und die oberen als ROM&nbsp;6 behandelt.
  Ist die externe ROM-Datei nur 16&nbsp;KByte gro&szlig;,
  wird nur ROM&nbsp;7 mit einem anderen Inhalt belegt.
 <br/><br/>

 <h3><a name="diskfmt">1.2.2 Diskettenformate</a></h3>
  Beim KC&nbsp;compact gibt es in Bezug auf die Diskettennutzung
  zwei Betriebsarten mit unterschiedlichen Diskettenformaten.
  Die erste Betriebsart nennt sich BASDOS.
  Dabei handelt es sich um die Diskettenunterst&uuml;tzung f&uuml;r das
  im KC&nbsp;compact enthaltene BASIC, d.h.,
  damit lassen sich z.B. BASIC-Programme auf Diskette speichern
  und von dort wieder laden.
  In dieser Betriebsart werden folgende Diskettenformate unterst&uuml;tzt:
 <br/>
  <ul>
   <li>
    <u>BASDOS-Standardformat:</u><br/>
    720/711&nbsp;KByte:
    80&nbsp;Spuren, zweiseitig, eine Systemspur, 9&nbsp;Sektoren,
    512&nbsp;Bytes&nbsp;Sektorgr&ouml;&szlig;e, Sektoroffset&nbsp;0,
    4&nbsp;KByte&nbsp;Blockgr&ouml;&szlig;e
    <br/><br/>
   </li>
   <li>
    <u>AMSDOS-Format ohne Systemspur:</u><br/>
    180&nbsp;KByte:
    40&nbsp;Spuren; einseitig, keine Systemspur, 9&nbsp;Sektoren,
    512&nbsp;Bytes&nbsp;Sektorgr&ouml;&szlig;e, Sektoroffset&nbsp;C0h,
    1&nbsp;KByte&nbsp;Blockgr&ouml;&szlig;e
    <br/><br/>
   </li>
   <li>
    <u>AMSDOS-Format mit Systemspuren:</u><br/>
    180/171&nbsp;KByte:
    40&nbsp;Spuren; einseitig, 2&nbsp;Systemspuren, 9&nbsp;Sektoren,
    512&nbsp;Bytes&nbsp;Sektorgr&ouml;&szlig;e, Sektoroffset&nbsp;40h,
    1&nbsp;KByte&nbsp;Blockgr&ouml;&szlig;e
   </li>
  </ul>
 <br/>
  Die Betriebsart BASDOS wird automatisch eingenommen,
  wenn der KC&nbsp;compact mit angeschlossener Diskettenstation
  eingeschaltet oder zur&uuml;ckgesetzt wird (RESET).
 <br/><br/>
  Die zweite Betriebsart ist das CP/M-kompatible MicroDOS.
  In diese Betriebsart gelangt man mit dem Kommando <em>|cpm</em>.
  Dazu muss vorher die MicroDOS-Systemdiskette im ersten
  Diskettenlaufwerk eingelegt worden sein.
 <br/><br/>
  MicroDOS unterst&uuml;tzt zwei Diskettenformate:
 <br/>
  <ul>
   <li>
    <u>MicroDOS-Standardformat:</u><br/>
    800/780&nbsp;KByte:
    80&nbsp;Spuren, zweiseitig, 2&nbsp;Systemspuren, 5&nbsp;Sektoren,
    1024&nbsp;Bytes&nbsp;Sektorgr&ouml;&szlig;e, Sektoroffset&nbsp;0,
    2&nbsp;KByte&nbsp;Blockgr&ouml;&szlig;e
    <br/><br/>
   </li>
   <li>
    <u>BASDOS-Standardformat:</u><br/>
    720/711&nbsp;KByte:
    80&nbsp;Spuren, zweiseitig, eine Systemspur, 9&nbsp;Sektoren,
    512&nbsp;Bytes&nbsp;Sektorgr&ouml;&szlig;e, Sektoroffset&nbsp;0,
    4&nbsp;KByte&nbsp;Blockgr&ouml;&szlig;e<br/>
   </li>
  </ul>
 <br/>
  Die im JKCEMU enthaltene MicroDOS-Systemdiskette ist so konfiguriert,
  dass das erste Diskettenlaufwerk sowohl als Laufwerk&nbsp;<em>B:</em>
  als auch als Laufwerk <em>C:</em> angesprochen werden kann,
  je nachdem, welches Format die eingelegte Diskette hat.
  Laufwerk&nbsp;<em>B:</em> ist f&uuml;r das MicroDOS-Standardformat
  konfiguriert und Laufwerk&nbsp;<em>C:</em> f&uuml;r das
  BASDOS-Standardformat.
 <br/><br/>
  Mit dem auf der MicroDOS-Systemdiskette enthaltenden Programm
  <em>FORMATCC.COM</em> lassen sich Disketten f&uuml;r MicroDOS
  und BASDOS formatieren.
  M&ouml;chte man im Emulator eine Diskettenabbilddatei f&uuml;r BASDOS
  erstellen,
  um z.B. darin KC&nbsp;compact BASIC-Programme speichern zu k&ouml;nnen,
  geht man folgenderma&szlig;en vor:
 <br/>
  <ol>
   <li>Emulation des KC&nbsp;compact mit Floppy-Disk-Station einstellen</li>
   <li>Fenster <em>Diskettenstation</em> &ouml;ffnen</li>
   <li>darin die <em>KC&nbsp;compact MicroDOS Systemdiskette</em> einlegen</li>
   <li>mit <em>|cpm</em> MicroDOS starten</li>
   <li><em>formatcc</em> starten</li>
   <li>
    im Fenster <em>Diskettenstation</em> eine neue Diskettenabbilddatei
    anlegen (z.B. Men&uuml;punkt <em>Neue CPC-Disk-Datei anlegen...</em>)
   </li>
   <li>
    im Emulatorfenster im Formatierungsprogramm Laufwerk&nbsp;B
    und Format Nummer&nbsp;2 (9*512*80*2) ausw&auml;hlen
    und das Formatieren starten
   </li>
   <li>
    nach dem das Formatieren fertig ist, im Emulator RESET ausl&ouml;sen
   </li>
  </ol>
 <br/>

 <h3><a name="sound">1.3. Sound-Generator</a></h3>
  Zum H&ouml;ren der vom Sound-Generator ausgegebenen T&ouml;ne
  m&uuml;ssen Sie im Fenster <a href="audio.htm">Audio/Kassette</a>
  die Funktion
  <a href="audio.htm#sound_out">Ausgang Sound-Generator/Lautsprecher</a>
  aktivieren.
 <br/><br/>
  <b>Hinweis:</b> Der Sound-Generator wird immer mit der
  originalen Taktfrequenz emuliert, d.h.,
  wenn Sie in den <a href="settings.htm">Einstellungen</a>
  eine andere Taktfrequenz angeben,
  wirkt sich das nur auf die Emulation des Mikroprozessors aus.
 <br/><br/>


 <h2><a name="disks">2. Enthaltene Diskettenabbilder</a></h2>
  JKCEMU enth&auml;lt f&uuml;r die KC-compact-Emulation
  folgendes Diskettenabbild:
  <ul>
   <li>MicroDOS-Systemdiskette</li>
  </ul>
  Sie starten MicroDOS durch Eingabe des Befehls: <tt>|cpm</tt>
 <br/>
  Dazu muss die Emulation der
  <a href="kccompact.htm#fdc">Floppy-Disk-Station</a> aktiviert und
  die MicroDOS-Systemdiskette in das erste emulierte Diskettenlaufwerk
  eingelegt sein.
 <br/><br/>
  Das MicroDOS auf der Systemdiskette ist mit drei Laufwerken konfiguriert:
  <ul>
   <li>A: RAM-Floppy</li>
   <li>
    B: erstes Diskettenlaufwerk im MicroDOS-Standardformat
    (siehe weiter oben <a href="kccompact.htm#diskfmt">Diskettenformate</a>)
   </li>
   <li>
    C: erstes Diskettenlaufwerk im BASDOS-Standardformat
    (siehe weiter oben <a href="kccompact.htm#diskfmt">Diskettenformate</a>)
   </li>
  </ul>
 <br/>
  Die Anzeige des Verzeichnisses erfolgt in MicroDOS mit dem Kommando
  <em>D</em>, und nicht wie bei CP/M-kompatiblen Betriebssystemen
  sonst &uuml;blich mit <em>DIR</em>.
 <br/><br/>


 <h2><a name="etc">3. Sonstiges</a></h2>

 <h3><a name="screen">3.1. Bildschirmausgabe</a></h3>
  Die Aktualisierung der Bildschirmausgabe erfolgt immer
  synchron zur Emulation der Bildschirmsteuerung.
  Dies ist f&uuml;r die korrekte Darstellungn von schnellen
  Bewegungsabl&auml;ufen (z.B. bei Spielprogrammen) notwendig.
  Der in den Einstellungen festgelegte Aktualisierungszyklus
  findet somit keine Anwendung.
 <br/><br/>

 <h3>
  <a name="screensize">3.1.1. Gr&ouml;&szlig;e und Seitenverh&auml;ltnis</a>
 </h3>
  Der KC&nbsp;compact bietet drei Bildschirmaufl&ouml;sungen.
  Wenn zwischen diesen umgeschaltet wird
  (z.B. mit dem BASIC-Befehl <tt>mode&nbsp;2</tt> in den 80-Zeichenmodus),
  &auml;ndern sich auch die Gr&ouml;&szlig;e des Emulatorfensters
  sowie das Seitenverh&auml;ltnis.
  Beim Original bleibt dagegen die Gr&ouml;&szlig;e
  des Bildschirmausgabebereichs immer gleich.  Mit der Option
  <em>Gleiche Fenstergr&ouml;&szlig;e in allen Bildschirmmodi</em>
  k&ouml;nnen Sie das Verhalten an das des Originals anpassen.
  Allerdings ist dann auch das Emulatorfenster immer so gro&szlig;,
  dass die h&ouml;chste Bildschirmaufl&ouml;sung dargestellt werden kann.
</body>
</html>

