<html>
<body>
 <h1>Hinweise zur Emulation des Kramer-MC</h1>
  Unter Kramer-MC versteht man den Selbstbaucomputer,
  der in dem 1987 erschienenen Buch
   <em>Praktische Mikrocomputertechnik</em>
   von Manfred Kramer beschrieben ist.
 <br/><br/>
  <ul>
   <li>
    <a href="kramermc.htm#hardware">1. Emulierte Hardware</a>
    <ul>
     <li><a href="kramermc.htm#printer">1.1. Drucker</a></li>
    </ul>
   </li>
   <li><a href="kramermc.htm#software">2. Im ROM enthaltene Software</a></li>
   <li><a href="kramermc.htm#mem">3. Speicheraufteilung</a></li>
   <li><a href="kramermc.htm#basic">4. BASIC</a></li>
   <li>
    <a href="kramermc.htm#etc">5. Sonstiges</a>
    <ul>
     <li>
      <a href="kramermc.htm#basic_cc">5.1. JKCEMU-BASIC-Compiler</a>
      <ul>
       <li><a href="kramermc.htm#stack">5.1.1. Stack</a></li>
       <li><a href="kramermc.htm#inkey">5.1.2. INKEY</a></li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 <br/>


 <h2><a name="hardware">1. Emulierte Hardware</a></h2>
  <ul>
   <li>23&nbsp;KByte ROM</li>
   <li>41&nbsp;KByte RAM inklusive 1 KByte Bildwiederholspeicher</li>
   <li>64x16&nbsp;Zeichen Bildschirmgr&ouml;&szlig;e</li>
  </ul>
 <br/><br/>

 <h3><a name="printer">1.1. Drucker</a></h3>
  Es wird ein Drucker emuliert,
  indem JKCEMU die Betriebssystemaufrufe f&uuml;r Druckausgaben
  abf&auml;ngt und die Daten an den aktuellen Druckauftrag anh&auml;ngt.
  Diese Funktion ist jedoch standardm&auml;&szlig;ig deaktiviert
  und muss bei Bedarf in den <a href="settings.htm">Einstellungen</a>
  eingeschaltet werden.
 <br/><br/>
  Der Hintergrund dieser Ma&szlig;nahme ist,
  dass der logische Druckerkanal nach einem RESET auf den Bildschirm
  zeigt und das Monitorprogramm dar&uuml;ber auch noch die Startmeldung
  ausgibt.
  Ist das Abfangen der Druckausgaben aktiviert,
  wird somit mit jedem RESET ein Druckauftrag angelegt,
  der die kurze Startmeldung enth&auml;lt.
  Um diese Unsch&ouml;nheit zu vermeiden,
  ist die Emulation des Druckers standardm&auml;&szlig;ig deaktiviert
 <br/><br/>


 <h2><a name="software">2. Im ROM enthaltene Software</a></h2>
  <ul>
   <li><a href="kramermc/monitor.htm">Monitorprogramm</a></li>
   <li><a href="kramermc/assembler.htm">Assembler</a></li>
   <li>Reassembler</li>
   <li>Debugger</li>
   <li>BASIC-Interpreter</li>
   <li><a href="kramermc/editor.htm">Editor</a></li>
  </ul>
 <br/><br/>


 <h2><a name="mem">3. Speicheraufteilung</a></h2>
  <table border="1">
   <tr>
    <td>0000h-03FFh</td>
    <td><a href="kramermc/monitor.htm">Monitorprogramm</a></td>
   </tr>
   <tr><td>0400h-07FFh</td><td>Debugger</td></tr>
   <tr><td>0800h-0BFFh</td><td>Reassembler</td></tr>
   <tr><td>0C00h-0FFFh</td><td>System-RAM</td></tr>
   <tr>
    <td>1000h-3FFFh</td>
    <td>RAM, Programmspeicher f&uuml;r BASIC</td>
   </tr>
   <tr>
    <td>4000h-7FFFh</td>
    <td>
     RAM, Textspeicher f&uuml;r <a href="kramermc/editor.htm">Editor</a>
    </td>
   </tr>
   <tr><td>8000h-AFFFh</td><td>BASIC-Interpreter</td></tr>
   <tr><td>B000h-BFFFh</td><td>RAM</td></tr>
   <tr>
    <td>C000h-C3FFh</td>
    <td><a href="kramermc/editor.htm">Editor</a></td>
   </tr>
   <tr>
    <td>C400h-DFFFh</td>
    <td><a href="kramermc/assembler.htm">Assembler</a></td>
   </tr>
   <tr><td>E000h-FBFFh</td><td>RAM</td></tr>
   <tr><td>FC00h-FFFFh</td><td>Bildwiederholspeicher</td></tr>
  </table>
 <br/><br/>


 <h2><a name="basic">4. BASIC</a></h2>
  JKCEMU bietet eine spezielle Unterst&uuml;tzung
  f&uuml;r das Speichern und Laden von BASIC-Programmen.
  Zum Speichern nutzen Sie bitte die Funktion
  <em>BASIC-Programm speichern...</em> im Men&uuml; <em>Datei</em>
  und speichern das Programm als
  <a href="fileformats.htm#headersave">Headersave</a>-Datei
  mit dem Dateityp <tt>B</tt>.
 <br/><br/>
  Nur wenn Sie das BASIC-Programm so speichern,
  werden beim Laden des Programms die Systemzellen des
  BASIC-Interpreters richtig angepasst.
  In jedem anderen Fall k&ouml;nnen Sie zwar das BASIC-Programm laden,
  aber im Interpreter nicht richtig nutzen.
 <br/><br/>


 <h2><a name="etc">5. Sonstiges</a></h2>

 <h3><a name="basic_cc">5.1. JKCEMU-BASIC-Compiler</a></h3>
  Der JKCEMU-BASIC-Compiler kann Programmcode f&uuml;r den Kramer-MC
  erzeugen, allerdings mit nachfolgend beschriebenen Einschr&auml;nkungen.
 <br/><br/>

 <h3><a name="stack">5.1.1. Stack</a></h3>
  Sie d&uuml;rfen die Compiler-Option <em>System-Stack verwenden</em>
  nicht einschalten, da beim Starten eines Maschinencodeprogramms
  mit dem Kommando <tt>G&lt;SADR&gt;</tt> der Stack-Pointer den Wert 0000
  hat und somit in den Bildwiederholspeicher hineinlaufen w&uuml;rde.
  Compilieren Sie immer mit der Option <em>Eigener Stack-Bereich</em>.
 <br/><br/>

 <h3><a name="inkey">5.1.2. INKEY</a></h3>
  Beim Kramer-MC, zumindest bei dem in JKCEMU integrierten Monitorprogramm,
  funktioniert die Tastaturstatusabfrage nicht richtig.
  Mit Ausnahme von Control-C (Abbruch) wird das Dr&uuml;cken
  einer Taste nicht erkannt.
  Aus diesem Grund funktioniert auch die INKEY-Funktion nicht
  bzw. nicht richtig.
</body>
</html>

